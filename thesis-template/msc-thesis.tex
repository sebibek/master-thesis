% This template was initially provided by Dulip Withanage.
% Modifications for the database systems research group
% were made by Conny Junghans,  Jannik StrÃ¶tgen and Michael Gertz

\documentclass[
     12pt,         % font size
     a4paper,      % paper format
     BCOR10mm,     % binding correction
     DIV14,        % stripe size for margin calculation
%     liststotoc,   % table listing in toc
%     bibtotoc,     % bibliography in toc
%     idxtotoc,     % index in toc
%     parskip       % paragraph skip instad of paragraph indent
     ]{scrreprt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% PACKAGES:

% fix bitmap fonts
\usepackage{lmodern}
% Use German :
\usepackage[ngerman,english]{babel}
% Input and font encoding
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
% Index-generation
\usepackage{makeidx}
% Einbinden von URLs:
\usepackage{url}
% Special \LaTex symbols (e.g. \BibTeX):
%\usepackage{doc}
% Include Graphic-files:
\usepackage{graphicx}
% Include doc++ generated tex-files:
%\usepackage{docxx}
% Include PDF links
%\usepackage[pdftex, bookmarks=true]{hyperref}

% Fuer anderthalbzeiligen Textsatz
\usepackage{setspace}

% hyperrefs in the documents
\usepackage[bookmarks=true,colorlinks,pdfpagelabels,pdfstartview = FitH,bookmarksopen = true,bookmarksnumbered = true,linkcolor = black,plainpages = false,hypertexnames = false,citecolor = black,urlcolor=black]{hyperref} 
%\usepackage{hyperref}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% OTHER SETTINGS:

% Pagestyle:
\pagestyle{headings}

% Choose language
\newcommand{\setlang}[1]{\selectlanguage{#1}\nonfrenchspacing}


\begin{document}

% TITLE:
\pagenumbering{roman} 
\begin{titlepage}


\vspace*{1cm}
\begin{center}
\vspace*{3cm}
\textbf{ 
\Large Heidelberg University\\
\smallskip
\Large Institute of Computer Science\\
\smallskip
\Large Visual Computing Group (VCG)\\
\smallskip
}

\vspace{3cm}

\textbf{\large Master-Arbeit} % Bachelor-Arbeit 

\vspace{0.5\baselineskip}
{\huge
\textbf{Global Illumination Techniques for Tensor Field Visualization}
}
\end{center}

\vfill 

{\large
\begin{tabular}[l]{ll}
Sebastian Bek\\
Matrikelnummer: & 3481802\\
Betreuer: & Sebastian Bek\\
Datum der Abgabe: & 07.07.2019
\end{tabular}
}

\end{titlepage}

\onehalfspacing

\thispagestyle{empty}

\vspace*{100pt}
\noindent
\emph{dt.:}
Ich versichere, dass ich diese Master-Arbeit selbstständig verfasst und nur die angegebenen
Quellen und Hilfsmittel verwendet habe und die Grundsätze und
Empfehlungen ``Verantwortung in der Wissenschaft'' der Universität Heidelberg beachtet wurden. 
\bigskip
\\
\emph{eng.:}
I hereby declare/assure, that I drafted this thesis independently and only used the sources and materials labeled as references and that the conventions/principles and recommendations ``Verantwortung in der Wissenschaft'' of the Heidelberg University have been regarded/observed. 
\vspace*{50pt}
\noindent

\underline{\phantom{mmmmmmmmmmmmmmmmmmmm}}

\medskip
\noindent 
Abgabedatum / Due Date: 07.07.2019
\newpage

% Add a brief summary of your topic and contributions (Zusammenfassung) in German *and* in English:
\chapter*{Zusammenfassung}
%\input{zusammenfassung}

Tensorfelder werden meistens in Verbindung mit mechanischen Spanunngsverteilungen in 2D/3D-Gittern gebracht (vgl. Cauchy-Stress Tensor), haben aber auch andere praktische Bedeutungen in der Physik.
Mithilfe von globalen Beleuchtungsmodellen/-techniken wird eine neue Methode entwickelt, um Tensorfelder zu visualisieren. Als Grundlage leiten wir ein einfaches Lichtausbreitungsschema für kartesische Gitter ab, dass die Prinzipien der Ausbreitungsdämpfung und Energieerhaltung beachtet und Licht-verteilung/en für gegebene Lichtquellenrichtung/en und -positionen bis zur Konvergenz approximieren kann. Als unterliegendes Modell werden die Transmissionsprofile innerhalb diesem Gitter als Kristallfiberstruktur angenommen (vgl. Edelsteine: Katzenaugeneffekt beim Tigerauge). Die folgende Aufgabe ist es, anisotrope Fiberstrukturen mit der Orientierung und den Anisotropiemaßen des unterliegenden Tensorfelds zu modellieren. Dafür erstellen wir per Hauptachsentransformation (PCA) ein Eigensystem für jede Zelle des Tensorfelds und modellieren eine zugehörige Ellipsengleichung als (Transfer-/Wichtungs-) Transmissionsprofil. Wir messen Impulsantworten des Tensorfelds mit Delta-Pulsen an jeder Position und in jede Richtung um eine uniform gesamplete Map der globalen Lichtverteilungen zu erhalten. Diese Map wird als ein globales Energieflussfeld betrachtet. Wir lassen uns von der Technik FTLE aus dem Bereich Particle Tracing der Vector Field Visualization inspirieren, indem wir den Gradient des Flussfelds der resultierenden Lichtverteilungen analysieren und visualisieren. Ähnlich wie FTLE in Vektorfeldern Gräte/Kämme/LCS detektiert, erfasst unsere Methode dieselben Strukturen, anziehende/abstoßende/sattelnde Tensorfeldlinien die häufig Schlüsselstrukturen in der Natur repräsentieren, in Tensorfeldern.Man beachte, dass das resultierende berechnete Skalarfeld (Betrag des Gradienten) $(n+1)$-dimensional ($x,y,z$ und Richtung $\theta$) ist und in 3D für sinnvolle Visualisierung durch Mittelung/Projektion eine Dimension abgeflacht werden muss. Wir führen diese Größe als Global Illumination Gradient ein, der einen FTLE-verwandten Ansatz darstellt, um LCS in Tensorfeldern durch die Analyse des globalen, durch einen Imprint (Gravur in kristallinen Fiberstrukturen) gerichteten Lichtflusses, zu visualisieren. Außerdem führen wir Deformation Ellpsoid Glyphen ein, die zusätzlich zur Darstellung der anisotropen Topologie die Richtung(Zug-/Druck) der Spannung durch Pfeile nach innen/außen darstellen.
\newpage

\chapter*{Abstract}
%\input{abstract}
Tensor Fields, are most commonly associated with stress distributions (cnf. Cauchy-Stress Tensor) in 2D/3D grids, but also have some other meanings in practice in physics. By means of global illumination techniques we develop a new method to visualize tensor fields. As a basis, we derive a simple light propagation scheme for Cartesian grids, which satisfies propagation attenuation and energy-conservation principles and is able to approximate light distributions for given light source position(s) and direction(s) until convergence. The transmission profiles within this grid are considered as crystal fiber structures as an underlying physical model (eg. gemstones: tiger's eye's cat's eye effect). The consequent task is to model anisotropic fibre structures with the orientation and anisotropy measures of the underlying tensor field in the grid.
For this, we derive an eigenbasis by PCA (principal component analysis) for every cell of the tensor field and form an ellipsoid equation as transmission (transfer/weighting) function for the transmitted light profiles. We measure impulse responses of the tensor field with Delta-Pulses as light sources at any (sampled) position and in any direction to generate a uniform sampled map of the global illumination distributions. This map is considered as a global illumination energy flow field.
We gain inspiration by vector field particle tracing's FTLE approach for analyzing the gradient of the flow field of the resulting light distributions. Similar to how the FTLE detects ridges/LCS (Lagrangian Coherent Structures) in vector fields (flow fields), our approach captures these structures likewise, attracting/repelling/saddling tensor field lines (TFL) which frequently represent key structures in nature, in tensor fields. Note that the resulting scalar field is $(n+1)$-dimensional ($x,y,z$ and direction $\theta$) and needs to be flattened by averaging or projection in 3D for proper visualization. We denote this entity a global illumination gradient which states an FTLE-related approach for visualizing LCS in tensor fields through analysis of the global and light transport  directed by imprint/engraving in crystelline fiber structures. 
We also introduce Deformation Ellipsoid Glyphs which are, additionally to visualizing anisotropic topology, pointing inward/outward for compressive/tensile stresses visualizing orientation of mechanical stresses.
We evaluate our approaches for plausibility and comparability within an extensive test campaign.
\newpage

% MAIN PART:
% Table of contents (Inhaltsverzeichnis)
\tableofcontents
\cleardoublepage
\pagenumbering{arabic} 

% List of figures (Abbildungsverzeichnis):
%\listoffigures
% List of tables (Tabellenverzeichnis):
%\listoftables

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Here, the actual content of your thesis begins
% You can either put all the text here or use individual files to store the chapters of your thesis.
% Below are templates for both alternatives.

\chapter{Introduction}\label{intro}



Dieses Kapitel gibt einen Überblick über die Arbeit. Gerade der
Abschnitt zur Motivation soll allgemein verständlich geschrieben
werden. Die Einleitung sollte auch wichtige Referenzen enthalten. 

\section{Motivation}

\begin{figure}[h]
  \centering
 {
    \includegraphics[width=0.6\textwidth]
    {img/stress_tensor.png}
  }
  \caption{Cauchy-Spannungstensor}
  \label{Skalierung}
\end{figure}

Tensor Field Visualization is gaining importance as a relevant tool for the analysis of fluid and solid mechanics. Tensors are found most commonly in medical, scientific and engineering applications. A tensor is a $n$-D generalization of a matrix and appears e.g. as Jacobi-Matrix in Flow Fields or as stress tensor in solid continuum mechanics. Basically, tensors describe stretchings, rotations and volume changes in both solid and fluid material. While most techniques focus on symmetric tensor field visualization (like Glyphs and Tensor Field Lines), some other recent works adress the problem of asymmetric tensor field visualization. The issue with asymmetric or antisymmetric tensors is that they do not always yield real eigenvalues, which is needed to determine an eigenbasis to set up glyphs, hyperstreamlines or tensor field lines. \cite{pang&zheng} et.al. proposed the concept of dual eigenvectors and \cite{zhang} eigenvector manifold and eigenvalue manifold to visualize eigenvectors in the complex domain. The concept of Tensor Magnitude has been introduced by \cite{laramee} for means of physical interpretation and proposed an efficient glyph and hyperstreamline hybrid approach, which made dynamic interaction in real-time in 2D tensor fields feasible.\\


\begin{figure}[h]
  \centering
 {
    \includegraphics[width=0.6\textwidth]
    {img/hyperstreamlines.png}
  }
  \caption{Cauchy-Spannungstensor}
  \label{Skalierung}
\end{figure}
Worum geht es? Beispiel(e)! Illustrationen sind hier meist sinnvoll
zum Verständnis. Warum ist das Thema wichtig? In welchem Kontext?

\section{Objectives}

Implement a FTLE-related approach in tensor field visualization (both symmetric and asymmetric) for detecting ridges/LCS.
Visualize oriented deformation glyphs
In diesem Abschnitt sollen neben den Herausforderungen und der
Problemstellung insbesondere die Ziele der Arbeit beschrieben werden. 

\section{Aufbau der Arbeit}

Dieser Abschnitt wird meist recht kurz gehalten und beschreibt im
Prinzip nur den Aufbau des Rests der Arbeit. Zum Beispiel: In Kapitel
\ref{chap:grundlagen} geben wir einen Überblick über die  Grundlagen
zu der Arbeit sowie über verwandte Arbeiten. In Kapitel
\ref{chap:main} stellen wir dann \ldots vor. \ldots etc.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage

\chapter{Grundlagen und verwandte Arbeiten}
\label{chap:grundlagen}

Die ersten paar Abschnitte in diesem Kapitel führen in die Grundlagen
zur Arbeit ein. Das können beispielsweise Grundlagen zu Netzwerken
oder zur Informationsextraktion sein. 

\section{(Beispiel) Tensoren}
\label{sec:networks}

\section{(Beispiel) HAT}
\label{sec:ie}

\section{Related Work}
\label{sec:related}

There has been extensive recent work on symmetric tensors but not on asymmetric ones.  Since we aren't able to cover the whole scope in this work, we will focus on the most relevant works about tensor field visualization. 

\textbf{Symmetric Tensor Field Visualization}\\
\cite{pang&zheng} et.al. proposed a texture-based visualization approach called HyperLIC, which extends the concept of LIC to symmetric tensor fields by using an anisotropic 2D-filter kernel oriented along the major/minor eigenvectors. The notion of tensor field topology and the concept of Hyperstreamlines was first introduced by \cite{delmarcelle&hesselink}. The placement of tensor field lines as hyperstreamlines was recently improved by \cite{spencer} et.al. for glyph packing. \cite{feng} et. al. used Voronoi Tesselation for placing the glyphs. Superquadric glyphs have been proposed by \cite{Schultz&Kindlmann} for better flexibility for non-positive definite tensors. \cite{deleeuw&vanwijk} visualize the partial derivative gradient, the Jacobian of the tensor field.
\\
\textbf{Asymmetric Tensor Field Visualization}\\
\cite{pang&zheng}
Typischerweise im letzten Abschnitt dieses Kapitels wird dann auf
verwandte Arbeiten eingegangen. Entsprechende Arbeiten sind geeignet
zu zitieren. Beispiel: Die wurde erstmalig in den Arbeiten von Spitz
und Gertz \cite{Spitz2016a} gezeigt \ldots Details dazu werden in
dem Buch von Newman zu Netzwerken \cite{Newman2010} erläutert \ldots.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage

% Alternative: put content in separate files
% Check the difference between including these files using \input{filename} and \include{filename} and see which one you like better
%\chapter{Einleitung}\label{intro}
%\input{introduction}
%
%\chapter{Voraussetzungen}\label{bg}
%\input{background}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage

\chapter{Mein Beitrag}
\label{chap:main}

Dieses Kapitel stellt meist den Hauptteil der Arbeit dar. Vor dem
ersten Abschnitt sollte ein kurzer Überblick (ein paar wenige Sätze
mit Verweise auf nachfolgende Abschnitte) gegeben werden. Beispiel: Im
nachfolgenden Abschnitt \ref{sec:overview} wir ein Überblick über die Anforderungen an
das Modell gegeben. 

\section{Überblick und Zielsetzung}
\label{sec:overview} 

Knapp zwei Seiten, in dem die Anforderungen, die Zielsetzung und die
Methoden überblicksartig beschrieben werden. Hier sollte die
Beschreibung ``technischer'' bzw.~``formaler'' sein als in der
Einleitung, da der Leser nun mit den Grundlagen und verwandten
Arbeiten vertraut ist.

\section{Erster Teil}
\label{sec:teil1}

In diesem und den nachfolgenden Abschnitten werden die Beiträge der
Arbeit motiviert, formal sauber (oft mathematisch, sprich mit
Definitionen etc.) beschrieben, und bei Bedarf mithilfe von Beispielen
verdeutlicht. Die Beschreibungen in diesem Kapitel sind meist
unabhängig von einer konkreten Realisierung und Daten; diese werden im
nachfolgenden Kapitel detailliert.

\section{Zweiter Teil}
\label{sec:teil2}

Usw.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Experimentelle Evaluation}
\label{chap:eval}

Der Aufbau dieses Kapitels oder dessen Aufteilung in zwei Kapiteln ist
stark von dem Thema und der Bearbeitung des Themas
abhängig. Beschrieben werden hier Daten, die für eine Evaluation
verwendet wird (Quellen, Beispiele, Statistiken), die Zielsetzung der Evaluation
und die verwendeten Maße sowie die Ergebnisse (u.a.~mithilfe von
Charts, Diagrammen, Abbildungen etc.)

Dieses Kapitel kann auch mit einer Beschreibung der Realisierung eines
Systems beginnen (kein Quellcode, maximal Klassendiagramme!).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Zusammenfassung und Ausblick}
\label{chap:concl}

Hier werden noch einmal die wichtigsten Ergebnisse und Erkenntnisse
der Arbeit zusammengefasst (nicht einfach eine Wiederholung des
Aufbaus der vorherigen Kapitel!), welche neuen Konzepte, Methoden und
Werkzeuge Neues entwickelt wurden, welche Probleme nun (effizienter)
gelöst werden können, und es wird ein Ausblick auf weiterführende
Arbeiten gegeben (z.B.~was Sie machen würden, wenn Sie noch 6 Monate
mehr Zeit hätten).


% References (Literaturverzeichnis):
% a) Style (with abbreviations: use alpha):
% see
% https://de.wikibooks.org/wiki/LaTeX-W%C3%B6rterbuch:_bibliographystyle
% for the different formats and styles

\bibliographystyle{apalike}
% b) The File:
\bibliography{references}

\end{document}
